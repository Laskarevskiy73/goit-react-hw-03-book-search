{"version":3,"sources":["components/SearchBook/css/BookList.module.css","components/SearchBook/css/PageSearchBook.module.css","components/SearchBook/css/BookListItem.module.css","components/SearchBook/css/SearchForm.module.css","components/SearchBook/Notifications.js","components/SearchBook/SearchForm.js","components/SearchBook/BookListItem.js","components/SearchBook/BookList.js","components/services/BookAPI.js","components/SearchBook/mapper.js","components/SearchBook/PageSearchBook.js","index.js"],"names":["module","exports","list","listItem","main","loader","containerImage","containerDescription","containerPublisher","title","image","publisher","rating","container","input","search","select","createNotification","type","genre","error","NotificationManager","success","concat","info","warning","SearchForm","state","query","handleChangeSelect","_ref","target","_this","setState","value","handleChangeFieldSearch","_ref2","handleSubmit","event","preventDefault","_this$state","props","onSubmit","resetStateFields","_this$state2","this","genres","react_default","a","createElement","className","style","onChange","map","item","key","shortid","generate","onClick","lib","Component","BookListItem","pageCount","description","author","publishedDate","alt","Fragment","src","defaultProps","BookList","items","id","SearchBook_BookListItem","getBookByQuery","arguments","length","undefined","axios","get","mapper","_item$volumeInfo","volumeInfo","_item$volumeInfo$titl","_item$volumeInfo$desc","_item$volumeInfo$auth","authors","_item$volumeInfo$publ","_item$volumeInfo$publ2","_item$volumeInfo$page","_item$volumeInfo$aver","averageRating","imageLinks","thumbnail","PageSearchBook","books","loading","BookAPI","then","data","catch","finally","_this2","_ref3","dist_default","name","SearchForm_SearchForm","SearchBook_BookList","ReactDOM","render","PageSearchBook_PageSearchBook","document","querySelector"],"mappings":"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","file":"static/js/main.666e2b67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BookList_list__3Q1S0\",\"listItem\":\"BookList_listItem__2eACO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"PageSearchBook_main__3ZFd1\",\"loader\":\"PageSearchBook_loader__1ndiL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerImage\":\"BookListItem_containerImage__3BMZd\",\"containerDescription\":\"BookListItem_containerDescription__3MgwU\",\"containerPublisher\":\"BookListItem_containerPublisher__1aN-B\",\"title\":\"BookListItem_title__3JMtz\",\"image\":\"BookListItem_image__G1hQ-\",\"publisher\":\"BookListItem_publisher__2sogv\",\"rating\":\"BookListItem_rating__2Tk46\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchForm_container__20a8F\",\"input\":\"SearchForm_input__1wEqC\",\"search\":\"SearchForm_search__2jZIH\",\"select\":\"SearchForm_select__3T-ge\"};","import { NotificationManager } from 'react-notifications';\n\nconst createNotification = (type, genre, error) => {\n  switch (type) {\n    case 'success':\n      NotificationManager.success(\n        genre !== ''\n          ? `Your request is approved! Books by genre: ${genre}`\n          : 'Your request is approved!',\n      );\n      break;\n    case 'info':\n      NotificationManager.info('Info message');\n      break;\n    case 'warning':\n      NotificationManager.warning(\n        'Warning message',\n        'Close after 3000ms',\n        3000,\n      );\n      break;\n    case 'error':\n      NotificationManager.error(`${error}`);\n      break;\n    default:\n      break;\n  }\n};\n\nexport default createNotification;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { NotificationContainer } from 'react-notifications';\nimport PropTypes from 'prop-types';\nimport createNotification from './Notifications';\nimport style from './css/SearchForm.module.css';\nimport 'react-notifications/lib/notifications.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    genre: '',\n    query: '',\n  };\n\n  static propTypes = {\n    genres: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChangeSelect = ({ target }) => {\n    this.setState({ genre: target.value });\n  };\n\n  handleChangeFieldSearch = ({ target }) => {\n    this.setState({ query: target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { genre, query } = this.state;\n    const emptyQuery = genre === '' && query === '';\n\n    if (emptyQuery) {\n      createNotification('error', '', 'Enter your request please!');\n      return;\n    }\n\n    this.props.onSubmit(this.state);\n\n    this.resetStateFields();\n  };\n\n  resetStateFields = () => {\n    this.setState({ genre: '', query: '' });\n  };\n\n  render() {\n    const { genre, query } = this.state;\n    const { genres } = this.props;\n\n    return (\n      <form className={style.container} onSubmit={this.handleSubmit}>\n        <input\n          className={style.input}\n          onChange={this.handleChangeFieldSearch}\n          value={query}\n        />\n        <select\n          className={style.select}\n          onChange={this.handleChangeSelect}\n          value={genre}\n        >\n          {genres.map(item => (\n            <option key={shortid.generate()} value={item}>\n              {item}\n            </option>\n          ))}\n        </select>\n        <button\n          className={style.search}\n          onClick={this.handleSubmit}\n          type=\"submit\"\n        >\n          Search\n        </button>\n        <NotificationContainer />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './css/BookListItem.module.css';\n\nconst BookListItem = ({\n  image,\n  rating,\n  pageCount,\n  title,\n  description,\n  author,\n  publisher,\n  publishedDate,\n  alt,\n}) => {\n  return (\n    <>\n      <div className={style.containerImage}>\n        <img className={style.image} src={image} alt={alt} />\n        <span>Rating: {rating}/5</span>\n        <span>Page Count: {pageCount}</span>\n      </div>\n      <div className={style.containerDescription}>\n        <h3 className={style.title}>{title}</h3>\n        <p className={style.description}>{description}</p>\n        <p className={style.author}>{author}</p>\n        <div className={style.containerPublisher}>\n          <p className={style.publisher}>{publisher}</p>\n          <span className={style.publishedDate}>{publishedDate}</span>\n        </div>\n      </div>\n    </>\n  );\n};\n\nBookListItem.defaultProps = {\n  alt: 'pictures for the book',\n};\n\nBookListItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  author: PropTypes.arrayOf(PropTypes.string).isRequired,\n  publisher: PropTypes.string.isRequired,\n  publishedDate: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n\nexport default BookListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BookListItem from './BookListItem';\nimport style from './css/BookList.module.css';\n\nconst BookList = ({ items }) => (\n  <ul className={style.list}>\n    {items.map(item => (\n      <li className={style.listItem} key={item.id} id={item.id}>\n        <BookListItem\n          title={item.title}\n          image={item.image}\n          rating={item.rating}\n          pageCount={item.pageCount}\n          description={item.description}\n          author={item.author}\n          publisher={item.publisher}\n          publishedDate={item.publishedDate}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nBookList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      image: PropTypes.string.isRequired,\n      rating: PropTypes.number.isRequired,\n      pageCount: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string.isRequired,\n      author: PropTypes.arrayOf(PropTypes.string).isRequired,\n      publisher: PropTypes.string.isRequired,\n      publishedDate: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import axios from 'axios';\n\n/* eslint-disable-next-line */\nexport const getBookByQuery = (query = 'react', genre = 'computers') =>\n  axios.get(\n    `https://www.googleapis.com/books/v1/volumes?q=${query}+subject:${genre}`,\n  );\n","const mapper = items => {\n  return items.map(item => {\n    const { id } = item;\n    const {\n      title = '',\n      description = '',\n      authors: author = [],\n      publisher = '',\n      publishedDate = '',\n      pageCount = 0,\n      averageRating: rating = 0,\n      imageLinks: { thumbnail: image },\n    } = item.volumeInfo;\n\n    return {\n      id,\n      image,\n      rating,\n      pageCount,\n      title,\n      description,\n      author,\n      publisher,\n      publishedDate,\n    };\n  });\n};\n\nexport default mapper;\n","import React, { Component } from 'react';\nimport Loader from 'react-spinkit';\nimport { NotificationContainer } from 'react-notifications';\nimport createNotification from './Notifications';\nimport SearchForm from './SearchForm';\nimport BookList from './BookList';\nimport genres from './genres.json';\nimport * as BookAPI from '../services/BookAPI';\nimport style from './css/PageSearchBook.module.css';\nimport 'react-notifications/lib/notifications.css';\nimport mapper from './mapper';\n\nexport default class PageSearchBook extends Component {\n  state = {\n    books: '',\n    loading: false,\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n\n    BookAPI.getBookByQuery()\n      .then(({ data: { items } }) => this.setState({ books: mapper(items) }))\n      .catch(error => createNotification('error', '', error))\n      .finally(() => this.setState({ loading: false }));\n  }\n\n  handleSubmit = ({ genre, query }) => {\n    this.setState({ loading: true, books: 0 });\n\n    BookAPI.getBookByQuery(query, genre)\n      .then(({ data: { items } }) => {\n        this.setState({ books: mapper(items) });\n        createNotification('success', genre);\n      })\n      .catch(error => createNotification('error', genre, error))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { books, loading } = this.state;\n\n    return (\n      <>\n        <div className={style.main}>\n          {loading && (\n            <Loader\n              className={style.loader}\n              name=\"double-ball-scale-multiple\"\n            />\n          )}\n        </div>\n        <SearchForm genres={genres} onSubmit={this.handleSubmit} />\n        {books.length > 0 && <BookList items={books} />}\n        <NotificationContainer />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PageSearchBook from './components/SearchBook/PageSearchBook';\n\nconst App = () => <PageSearchBook />;\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}